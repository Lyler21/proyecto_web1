CREATE TABLE CATEGORIA(
COD_CAT VARCHAR(50) NOT NULL,
NOM_CAT VARCHAR(50) NOT NULL
);

ALTER TABLE  CATEGORIA 
ADD CONSTRAINT PK_CODIGO_CATEGORIA
PRIMARY KEY (COD_CAT);

CREATE TABLE FABRICANTE(
COD_CAT VARCHAR(50) NOT NULL,
COD_FAB VARCHAR(50) NOT NULL,
NOM_FAB VARCHAR(50) NOT NULL
);

ALTER TABLE FABRICANTE
ADD CONSTRAINT PF__COD_CATEGORIA_FABRICANTE
PRIMARY KEY (COD_CAT,COD_FAB);

ALTER TABLE FABRICANTE 
ADD CONSTRAINT FK_COD_CATE
FOREIGN KEY (COD_CAT) REFERENCES categoria(COD_CAT);

CREATE TABLE PRODUCTO(
COD_PRO VARCHAR(50) NOT NULL,
COD_CAT VARCHAR(50) NOT NULL,
COD_FAB VARCHAR(50) NOT NULL,
NOM_PRO VARCHAR(50) NOT NULL,
stock   INT NOT NULL,
PRECIO DOUBLE NOT NULL
);
  
ALTER TABLE PRODUCTO
ADD CONSTRAINT Pk_COD_PRO	
PRIMARY KEY (COD_PRO);

ALTER TABLE PRODUCTO 
ADD CONSTRAINT FK_COD_FAB_PRO
FOREIGN KEY (COD_CAT,COD_FAB)REFERENCES FABRICANTE(COD_CAT,COD_FAB);
  
  
CREATE TABLE USUARIOS(
COD_USU VARCHAR(50) NOT NULL,
PAS_USU VARCHAR(45) NOT NULL,
NOMBRE VARCHAR(45) NOT NULL,
CORREO VARCHAR(45) NOT NULL,
NIVEL  INT NOT NULL
); 
  
ALTER TABLE USUARIOS
ADD CONSTRAINT Pk_COD_USU
PRIMARY KEY (COD_USU);
  
CREATE TABLE PEDIDO(
COD_PED INT NOT NULL,
COD_PRO VARCHAR(45) NOT NULL,
CAN 	  INT NOT NULL,
COD_USU VARCHAR(5.) NOT NULL,
TOTAL   INT NOT NULL
)
 
ALTER TABLE PEDIDO
ADD CONSTRAINT Pk_COD_PED
PRIMARY KEY (COD_PED);

ALTER TABLE PEDIDO 
ADD CONSTRAINT FK_COD_PRO_PEDIDO
FOREIGN KEY (COD_PRO) REFERENCES PRODUCTO(COD_PRO);
  
ALTER TABLE PEDIDO 
ADD CONSTRAINT FK_COD_USU_PEDIDO
FOREIGN KEY (COD_USU) REFERENCES USUARIOS(COD_USU);  


CREATE TABLE DETALLE_PEDIDO(
codp INT NOT NULL,
codde VARCHAR(45) NOT NULL,
pruno VARCHAR(45) NOT NULL,
prdos VARCHAR(45) NOT NULL,
prtres VARCHAR(45) NOT NULL,
prcuatro VARCHAR(45) NOT NULL,
prcinco VARCHAR(45)NOT NULL
)
ALTER TABLE DETALLE_PEDIDO
ADD CONSTRAINT PK_COD_DETALLE
 PRIMARY KEY (codde)
 
ALTER TABLE DETALLE_PEDIDO 
ADD CONSTRAINT fk_pedido_deta
FOREIGN KEY (codp)REFERENCES pedido (cod_ped)